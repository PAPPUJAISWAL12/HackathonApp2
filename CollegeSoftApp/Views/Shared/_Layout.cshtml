<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <link href="~/css/sidebar.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
          integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.datatables.net/1.10.15/css/dataTables.bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/1.13.1/css/dataTables.bootstrap5.min.css" />
    <link href="https://cdn.datatables.net/responsive/2.1.1/css/responsive.bootstrap.min.css" rel="stylesheet" />


    <script src="https://code.jquery.com/jquery-3.6.2.min.js" integrity="sha256-2krYZKh//PcchRtd+H+VyyQoZ/e3EcrkxhM8ycwASPA=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-ajax-unobtrusive/3.2.6/jquery.unobtrusive-ajax.min.js" integrity="sha512-DedNBWPF0hLGUPNbCYfj8qjlEnNE92Fqn7xd3Sscfu7ipy7Zu33unHdugqRD3c4Vj7/yLv+slqZhMls/4Oc7Zg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>

    <style>

        .user-sub-menu {
            display: none;
            background-color: rgb(22, 6, 6);
        }

        .table-overflow {
            overflow-x: auto;
        }

        .btn-edit {
            background: rgba(247, 154, 67);
        }

            .btn-edit:hover {
                background: rgba(247, 154, 67);
            }

        .user-sub-menu-show {
            background-color: rgb(16, 17, 17);
        }

        .user-sub-menu li {
            list-style: none;
        }

        .user-btn {
            cursor: pointer;
        }

        .top-nav-content {
            display: flex;
            flex-wrap: nowrap;
        }

        .mr-auto {
            position: relative;
            left: 75%;
            padding: 8px;
            color: wheat;
        }
    </style>
    <title>@ViewData["Title"]</title>
</head>
<body>
    @if (User.Identity.IsAuthenticated)
    {
        <header class="top-nav ">
            <div class=" top-nav-content">
                <div class="menu-icon top-nav-icon btn" id="btn-menu">
                    <i class="fa-sharp fa-2x  fa-solid fa-bars"></i>
                    <!-- <i class="fa-solid fa-square-x"></i> -->
                </div>
                <div class="mr-auto">
                    <div class="user-btn">
                        <i class="fa-regular fa-2x fa-circle-user"></i>
                        <span>user</span>
                        <i class="fa-solid fa-1x fa-caret-down"></i>
                    </div>
                    <ul class="user-sub-menu" id="user-sub-menu">
                        <li class="nav-item">
                            <a asp-controller="Homes" asp-action="Logout" class="nav-link">
                                Logout
                            </a>
                        </li>
                    </ul>
                </div>

            </div>
        </header>

        <main class="main-content">
            <section>
                <div>
                    @RenderBody()
                </div>
            </section>
        </main>
        <aside class="sidebar">
            <div class="sidebar-content">
                <div class="sidebar-logo">
                    <h3>School</h3>
                </div>
                <nav>
                    <ul class="navbar-nav">
                        @if(User.IsInRole("Student")){
                            <li class="nav-item">
                                <a asp-controller="Students" asp-action="Details" class="nav-link">
                                    <i class="fa-solid fa-1x fa-house" title="Home"></i>
                                    <span class="menu">Profile</span>
                                </a>
                            </li>   
                        }
                        <li class="nav-item">
                            <a asp-controller="Fees" asp-action="index" class="nav-link ">
                                <span class="menu">Fees</span>
                            </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link " asp-controller="Receptions" asp-action="Index" title="Contact">
                                @* <i class="fa-regular fa-address-card"></i>*@
                                <span>Reception</span>
                            </a>
                        </li>
                          <li class="nav-item">
                            <a class="nav-link " asp-controller="Subjects" asp-action="Index" title="Contact">
                                @* <i class="fa-regular fa-address-card"></i>*@
                                <span>Subjects</span>
                            </a>
                        </li>
                         <li class="nav-item">
                            <a class="nav-link " asp-controller="Classes" asp-action="Index" title="Contact">
                                @* <i class="fa-regular fa-address-card"></i>*@
                                <span>Class</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link " asp-controller="ProgramInfoes" asp-action="Index" title="Contact">
                                @* <i class="fa-regular fa-address-card"></i>*@
                                <span>Program</span>
                            </a>
                        </li>
                         <li class="nav-item">
                            <a class="nav-link " asp-controller="Teachers" asp-action="Index" title="Contact">
                                @* <i class="fa-regular fa-address-card"></i>*@
                                <span>Teachers</span>
                            </a>
                        </li>
                         <li class="nav-item">
                            <a class="nav-link " asp-controller="Students" asp-action="Index" >
                                @* <i class="fa-regular fa-address-card"></i>*@
                                <span>Student</span>
                            </a>
                        </li>
                       
                    </ul>
                </nav>
            </div>
        </aside>

    }
    <script>
        $(document).ready(function () {
            let counter = 0;
            $("#btn-menu").on("click", function () {
                if (counter === 0) {
                    $(this).html(`<i class="fa-solid fa-2x fa-xmark" id="bar-menu"></i>`);
                    $(".top-nav").toggleClass("show-top-nav");
                    $(".sidebar").toggleClass("show");
                    $(' .sidebar-content>nav>ul>li>a>span').toggleClass("show-nav-content")
                    $("main").removeClass("main-content");
                    $("main").addClass("main-content-show");
                    $(".top-nav-icon").toggleClass("top-nav-icon-show");
                    counter = 1;
                } else if (counter === 1) {
                    $(this).html(`<i class="fa-solid fa-2x fa-bars" id="bar-menu"></i>`);
                    $(".top-nav").toggleClass("show-top-nav");
                    $('.sidebar').toggleClass('show');
                    $(' .sidebar-content>nav>ul>li>a>span').toggleClass("show-nav-content")
                    $("main").removeClass("main-content-show");
                    $("main").addClass("main-content");
                    $(".top-nav-icon").toggleClass("top-nav-icon-show");
                    counter = 0;
                }
            });
            $(".sidebar-content>nav>ul>li>a").click(function () {
                $(".sidebar-content>nav>ul>li>a").removeClass("active");
                $(this).addClass("active");
            });
            $(".user-btn").on("click", function () {
                if (counter === 0) {
                    $(this).html(`<i class="fa-regular fa-2x fa-circle-user"></i>
                                                                <span>user</span>
                                                                <i class="fa-solid fa-1x fa-caret-up"></i>
                                                             `);
                    $(".user-sub-menu").slideToggle("slow user-sub-menu-show");
                    counter = 1;
                    console.log(counter);
                } else if (counter === 1) {
                    $(this).html(`<i class="fa-regular fa-2x fa-circle-user"></i>
                                                                <span>user</span>
                                                                <i class="fa-solid fa-1x fa-caret-down"></i>
                                                            `);
                    $(".user-sub-menu").slideToggle("user-sub-menu-show")
                    counter = 0;
                }
            });
        });
        $(document).ready(function () {
            $("#data").DataTable();
        });
    </script>
</body>
</html>